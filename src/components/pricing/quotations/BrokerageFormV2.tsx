import { FileText, Package, MapPin } from "lucide-react";
import { SimpleDropdown } from "../../bd/SimpleDropdown";
import type { BrokerageDetails, BrokerageSubtype, ShipmentType, Mode, CargoType } from "../../../types/pricing";

interface BrokerageFormV2Props {
  data: Partial<BrokerageDetails>;
  onChange: (data: Partial<BrokerageDetails>) => void;
}

export function BrokerageFormV2({ data, onChange }: BrokerageFormV2Props) {
  const updateField = (field: keyof BrokerageDetails, value: any) => {
    onChange({ ...data, [field]: value });
  };

  return (
    <div>
      <div style={{
        fontSize: "12px",
        fontWeight: 600,
        color: "var(--neuron-ink-primary)",
        marginBottom: "12px",
        display: "flex",
        alignItems: "center",
        gap: "6px"
      }}>
        <FileText size={14} style={{ color: "#0F766E" }} />
        SERVICE DETAILS
      </div>

      <div style={{
        display: "grid",
        gridTemplateColumns: "1fr 1fr 1fr",
        gap: "12px"
      }}>
        {/* Subtype */}
        <div>
          <label style={{ display: "block", fontSize: "11px", fontWeight: 500, color: "#667085", marginBottom: "4px" }}>
            Brokerage Subtype *
          </label>
          <SimpleDropdown
            value={data.subtype || ""}
            onChange={(value) => updateField('subtype', value as BrokerageSubtype)}
            options={["Import Air", "Import Ocean", "Export Air", "Export Ocean"]}
            placeholder="Select subtype"
          />
        </div>

        {/* Shipment Type */}
        <div>
          <label style={{ display: "block", fontSize: "11px", fontWeight: 500, color: "#667085", marginBottom: "4px" }}>
            Shipment Type *
          </label>
          <SimpleDropdown
            value={data.shipment_type || ""}
            onChange={(value) => updateField('shipment_type', value as ShipmentType)}
            options={["FCL", "LCL", "Consolidation", "Break Bulk"]}
            placeholder="Select type"
          />
        </div>

        {/* Type of Entry */}
        <div>
          <label style={{ display: "block", fontSize: "11px", fontWeight: 500, color: "#667085", marginBottom: "4px" }}>
            Type of Entry
          </label>
          <input
            type="text"
            value={data.type_of_entry || ""}
            onChange={(e) => updateField('type_of_entry', e.target.value)}
            placeholder="e.g., Consumption Entry"
            style={{
              width: "100%",
              padding: "6px 10px",
              fontSize: "13px",
              border: "1px solid var(--neuron-ui-border)",
              borderRadius: "4px",
              backgroundColor: "white"
            }}
          />
        </div>

        {/* POD */}
        <div>
          <label style={{ display: "block", fontSize: "11px", fontWeight: 500, color: "#667085", marginBottom: "4px" }}>
            POD (Port of Discharge)
          </label>
          <input
            type="text"
            value={data.pod || ""}
            onChange={(e) => updateField('pod', e.target.value)}
            placeholder="e.g., Manila South Harbor"
            style={{
              width: "100%",
              padding: "6px 10px",
              fontSize: "13px",
              border: "1px solid var(--neuron-ui-border)",
              borderRadius: "4px",
              backgroundColor: "white"
            }}
          />
        </div>

        {/* Mode */}
        <div>
          <label style={{ display: "block", fontSize: "11px", fontWeight: 500, color: "#667085", marginBottom: "4px" }}>
            Mode
          </label>
          <SimpleDropdown
            value={data.mode || ""}
            onChange={(value) => updateField('mode', value as Mode)}
            options={["Air", "Ocean", "Land"]}
            placeholder="Select mode"
          />
        </div>

        {/* Cargo Type */}
        <div>
          <label style={{ display: "block", fontSize: "11px", fontWeight: 500, color: "#667085", marginBottom: "4px" }}>
            Cargo Type
          </label>
          <SimpleDropdown
            value={data.cargo_type || ""}
            onChange={(value) => updateField('cargo_type', value as CargoType)}
            options={["General", "Perishable", "Hazardous", "Fragile", "High Value"]}
            placeholder="Select cargo type"
          />
        </div>

        {/* Commodity */}
        <div style={{ gridColumn: "1 / -1" }}>
          <label style={{ display: "block", fontSize: "11px", fontWeight: 500, color: "#667085", marginBottom: "4px" }}>
            Commodity
          </label>
          <input
            type="text"
            value={data.commodity || ""}
            onChange={(e) => updateField('commodity', e.target.value)}
            placeholder="e.g., Electronic components, Pharmaceutical products"
            style={{
              width: "100%",
              padding: "6px 10px",
              fontSize: "13px",
              border: "1px solid var(--neuron-ui-border)",
              borderRadius: "4px",
              backgroundColor: "white"
            }}
          />
        </div>

        {/* Declared Value */}
        <div>
          <label style={{ display: "block", fontSize: "11px", fontWeight: 500, color: "#667085", marginBottom: "4px" }}>
            Declared Value (â‚±)
          </label>
          <input
            type="number"
            value={data.declared_value || ""}
            onChange={(e) => updateField('declared_value', Number(e.target.value) || undefined)}
            placeholder="0.00"
            min="0"
            step="0.01"
            style={{
              width: "100%",
              padding: "6px 10px",
              fontSize: "13px",
              border: "1px solid var(--neuron-ui-border)",
              borderRadius: "4px",
              backgroundColor: "white",
              textAlign: "right"
            }}
          />
        </div>

        {/* Delivery Address */}
        <div style={{ gridColumn: "2 / -1" }}>
          <label style={{ display: "block", fontSize: "11px", fontWeight: 500, color: "#667085", marginBottom: "4px" }}>
            Delivery Address
          </label>
          <input
            type="text"
            value={data.delivery_address || ""}
            onChange={(e) => updateField('delivery_address', e.target.value)}
            placeholder="Full delivery address"
            style={{
              width: "100%",
              padding: "6px 10px",
              fontSize: "13px",
              border: "1px solid var(--neuron-ui-border)",
              borderRadius: "4px",
              backgroundColor: "white"
            }}
          />
        </div>

        {/* Country of Origin */}
        <div>
          <label style={{ display: "block", fontSize: "11px", fontWeight: 500, color: "#667085", marginBottom: "4px" }}>
            Country of Origin
          </label>
          <input
            type="text"
            value={data.country_of_origin || ""}
            onChange={(e) => updateField('country_of_origin', e.target.value)}
            placeholder="e.g., China"
            style={{
              width: "100%",
              padding: "6px 10px",
              fontSize: "13px",
              border: "1px solid var(--neuron-ui-border)",
              borderRadius: "4px",
              backgroundColor: "white"
            }}
          />
        </div>

        {/* Preferential Treatment */}
        <div>
          <label style={{ display: "block", fontSize: "11px", fontWeight: 500, color: "#667085", marginBottom: "4px" }}>
            Preferential Treatment
          </label>
          <input
            type="text"
            value={data.preferential_treatment || ""}
            onChange={(e) => updateField('preferential_treatment', e.target.value)}
            placeholder="e.g., ASEAN, FTA"
            style={{
              width: "100%",
              padding: "6px 10px",
              fontSize: "13px",
              border: "1px solid var(--neuron-ui-border)",
              borderRadius: "4px",
              backgroundColor: "white"
            }}
          />
        </div>

        {/* PSIC */}
        <div>
          <label style={{ display: "block", fontSize: "11px", fontWeight: 500, color: "#667085", marginBottom: "4px" }}>
            PSIC
          </label>
          <input
            type="text"
            value={data.psic || ""}
            onChange={(e) => updateField('psic', e.target.value)}
            placeholder="PSIC code"
            style={{
              width: "100%",
              padding: "6px 10px",
              fontSize: "13px",
              border: "1px solid var(--neuron-ui-border)",
              borderRadius: "4px",
              backgroundColor: "white"
            }}
          />
        </div>

        {/* AEO */}
        <div>
          <label style={{ display: "block", fontSize: "11px", fontWeight: 500, color: "#667085", marginBottom: "4px" }}>
            AEO
          </label>
          <SimpleDropdown
            value={data.aeo || ""}
            onChange={(value) => updateField('aeo', value)}
            options={["Yes", "No"]}
            placeholder="Select AEO status"
          />
        </div>
      </div>
    </div>
  );
}